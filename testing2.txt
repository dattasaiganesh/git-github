testing for firstbranch, modified for firstbranch